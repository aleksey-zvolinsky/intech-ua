{
"connected": $connected,
"submit_required": $submitRequired,
#if ( $lm )
"msg": {
	"date": "$_dtf.format( $lm.Date )",
	"voltage_ok": $lm.VoltageOK,
	"voltage2_ok": $lm.Voltage2OK,
	"adj_pressed": $lm.AdjPressed,
	"failure": $lm.Failure,
	"automatic_mode": $lm.AutomaticMode,
	"tank": {
		"failure": $lm.Tank.Failure,
		"level": $lm.Tank.Level
	},
	"pumps": [
	#foreach ( $pump in $lm.Pumps )
		#if ( $pump )
			{
				"manual_mode": $pump.ManualMode,
				"automatic_mode": $pump.AutomaticMode,
				"working": $pump.Working,
				"failure": $pump.Failure,
				"engine_failure": $pump.EngineFailure,
				"start_failure": $pump.StartFailure,
				"hours_counter_overflow": $pump.HoursCounterOverflow,
				"state_code": $pump.StateCode,
				"c1": $pump.L1,
				"c2": $pump.L2,
				"c3": $pump.L3,
				"v": $pump.V,
				"fail_code": 
				#if ( $pump.FailCode )
					{
						"code": $pump.FailCode.Code,
						"nik": "$pump.FailCode.Nik",
						"name": "$pump.FailCode.Name"
					}
				#else
					null
				#end
				,
				"moto_hours": $pump.MotoHours,
				"moto_mins": $pump.MotoMins,
				"modbus_failure": $pump.Modbus0Failure,
				"modbus1_failure": $pump.Modbus1Failure,
				"modbus2_failure": $pump.Modbus2Failure,
				"qf_failure": $pump.QFFailure
			}
		#else
			null
		#end
		#if( $foreach.hasNext ),#end
	#end
	]
}
#else
"msg": null
#end
}